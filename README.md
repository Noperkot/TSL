# TorrServer Launcher  
### Лаунчер для [TorrServer](https://github.com/YouROK/TorrServer) под Windows  
Позволяет сворачивать консольное окно торрсервера в трей. Есть автозапуск при входе в систему. Работает с любой версией сервера.  
#### Использование:  
[**tsl.exe**](../../releases/latest/download/tsl.exe) положить в папку с исполняемым файлом торрсервера _[(TorrServer-windows-\*\*\*.exe)](https://github.com/YouROK/TorrServer/releases/latest)_ и запустить. Торрсервер стартует свернутым в трей (иконка рядом с часами в правом нижнем углу экрана). При желании можно включить автозапуск.   

<details>
<summary>Параметры запуска tsl.exe</summary>  
  
#### Параметры командной строки:  
  
  Команда | Если tsl уже запущен | В противном случае
------------ | ------------- | -------------
--close | Закрыть запущенный экземпляр tsl | ничего не делает
--stop | Остановить сервер в запущенном экземпляре tsl | tsl стартует с остановленным сервером
--start | Запуск сервера в запущенном экземпляре tsl | tsl запускается свернутым в трей
--restart | Рестарт сервера в запущенном экземпляре tsl | tsl запускается свернутым в трей
--show | Развернуть окно запущенного экземпляра tsl | tsl запускается с открытым окном
--hide | Свернуть окно запущенного экземпляра tsl в трей | tsl запускается свернутым в трей
--web | Открыть в браузере веб-интерфейс TS | tsl запускается свернутым в трей и открывается веб-интерфейс TS
  
#### Дополнительные параметры:  
  
 Параметр | Тип | Дефолтное значение | Описание
------------ | ------------- | ------------- | -------------
args | REG_SZ |  | Аргументы командной строки TS
WindowX | REG_DWORD | автоцентрирование | X координата окна (если создать этот параметр, он будет запоминаться при выходе)
WindowY | REG_DWORD | автоцентрирование | Y координата окна (если создать этот параметр, он будет запоминаться при выходе)
WindowW | REG_DWORD | 2/3 экрана | Ширина окна (запоминается при выходе)
WindowH | REG_DWORD | 2/3 экрана | Высота окна (запоминается при выходе)
WindowMinW | REG_DWORD | 320 | Минимальная ширина окна
WindowMinH | REG_DWORD | 240 | Минимальная высота окна
WindowMax | REG_DWORD | 0 | Развернуть на весь экран. 0-нет, 1-да (запоминается при выходе)
TextWrapping | REG_DWORD | 0 | Переносить строки в консоли. 0-нет, 1-да
MaxLines | REG_DWORD | 1000 | Строк в кольцевом буфере консоли
ExitWhenClose | REG_DWORD | 0 | Действие при закрытии окна. 0 - свернуть в трей, 1 - выход
OnTSdead | REG_DWORD | 0 | Действие при падении TS. 0 - ничего не делать, 1 - закрыть программу, 2 - развернуть окно программы, 3 - перезапустить TS
OnIconClick | REG_DWORD | 0 | Действие при клике по иконке в трее. 0 - показать/скрыть окно, 1 - открыть веб-интерфейс TS, 2 - рестарт TS
DblIconClick | REG_DWORD | 0 | Какой обрабатывать клик по иконке в трее. 0 - одинарный, 1 - двойной
ConsoleBkColor | REG_DWORD | 0x000000 | hex цвет фона 0xRRGGBB
ConsoleFontColor | REG_DWORD | 0xBBBBBB | hex цвет шрифта 0xRRGGBB
ConsoleFontSize | REG_DWORD | 9 | Размер шрифта
ConsoleFontName | REG_SZ | Lucida Console | Название шрифта

Дополнительные параметры могут быть заданы (в порядке убывания приоритета):  
- либо в командной строке:
```
tls.exe args="--port=8090 -a" ConsoleFontColor=0xED9121 ...
```

- либо в файле tsl.ini:
```
[TorrServer]
args=--port=8090 -a
ConsoleFontColor=0xED9121
...
```
- либо в реестре по пути "HKEY_CURRENT_USER\Software\TorrServer":
<img src="/doc/img/tslreg.png" width="50%" />
```

</details>
<br/>

> Для ленивых - [**онлайн-инсталлятор**](../../../TorrServerInstaller).  
Сам скачает актуальные версии всех необходимых компонентов (TorrServer+Launcher), разложит по папкам и создаст ярлыки.  
При наличии администраторских прав добавит торрсервер в исключения брандмауэра и создаст задание windows для автообновления версии TorrServer.  
<br/>

Обсуждение TorrServer'а и всего, что с ним связано:
- [на 4PDA](https://4pda.to/forum/index.php?showtopic=889960)
- [в Telegram](https://t.me/TorrServe)

#
<details><summary>Скриншоты</summary><br \>  
  
![](/doc/img/screen1.png?raw=true)  

![](/doc/img/screen2.png?raw=true)  

</details>
